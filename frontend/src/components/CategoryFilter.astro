---
interface Props {
  categories: string[];
  selectedCategory?: string;
}

const { categories, selectedCategory } = Astro.props;
---

<div class="mb-8 p-4 bg-gray-50 rounded-lg shadow-sm">
  <h2 class="text-xl font-semibold text-gray-800 mb-4">Filtrar por Categoría</h2>
  <select
    name="category"
    class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-700"
    hx-get="/productos"           // Cuando cambia el selector, hace una petición GET a /productos
    hx-target="#product-list"     // El resultado de la petición reemplazará el contenido del div con id="product-list"
    hx-trigger="change"           // El trigger es el evento 'change' del select
    hx-push-url="true"            // Opcional: Actualiza la URL en el navegador sin recargar (para compartir el link)
  >
    <option value="">Todas las Categorías</option>
    {categories.map(category => (
      <option value={category} selected={selectedCategory === category}>{category}</option>
    ))}
  </select>
</div>